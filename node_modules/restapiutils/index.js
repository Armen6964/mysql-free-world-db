function success(res,message,status) {
    res.status(status || 200);
    res.json({
        error:false,
        message,
        status : status || 200
    })
}

function error(res,message,status) {
    res.status(status || 500);
    res.json({
        error:true,
        message,
        status : status || 500
    })
}

function makeFlatTree(arr) {
    let tree = [],
        mappedArr = {},
        arrElem,
        mappedElem;

    for(let i = 0, len = arr.length; i < len; i++) {
        arrElem = arr[i];
        mappedArr[arrElem.id] = arrElem;
        mappedArr[arrElem.id]['children'] = [];
    }

    for (let id in mappedArr) {
        mappedElem = mappedArr[id];
        if (mappedElem["parentId"] > 0) {
            mappedArr[mappedElem['parentId']]['children'].push(mappedElem);
        }else {
            tree.push(mappedElem);
        }
    }
    return tree;
}

module.exports = {
    success,
    error
};
